<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrought"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:jsf="http://xmlns.jcp.org/jsf"> 


    <h:head>
        <title>Youtube</title>
    </h:head>
    <h:body>
        
        <div id="howToVideo"></div>
        
        <script type="application/javascript">
        
        // From http://apiblog.youtube.com/2011/01/introducing-javascript-player-api-for.html
        
        var ga = document.createElement('script');
        ga.type = 'text/javascript';
        ga.async = false;
        ga.src = 'http://www.youtube.com/player_api';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(ga, s);
  
        var done = false;
        var player;
              
        function onYouTubePlayerAPIReady() {
            //try {
                player = new YT.Player('howToVideo', {
                  height: '390',
                  width: '640',
                  videoId: 'oyh8CmUtLZc',
                  events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange
                  }
                });
            //} catch (e) { console.log(e); }
        }
        function onPlayerReady(evt) {
            console.log('onPlayerReady', evt);
            evt.target.playVideo();
        }
        function onPlayerStateChange(evt) {
            console.log('onPlayerStateChange', evt);
            if (evt.data == YT.PlayerState.PLAYING &amp; !done) {
                setTimeout(stopVideo, 6000);
                done = true;
            }
        }
        function stopVideo() {
            console.log('stopVideo');
            player.stopVideo();
        }
        
        </script>
    </h:body>
</html>
